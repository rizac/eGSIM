<div class='position-relative' style="flex: 1 1 auto;">
	<gsim-map @gsim-selected="(gs) => { forms.residuals.gsim = Array.from(new Set(forms.residuals.gsim.concat(gs))) }"
			  @gsim-unselected="(gs) => { forms.residuals.gsim = forms.residuals.gsim.filter(g => !gs.includes(g)); }"
			  :regionalizations="regionalizations"
			  :region-selected-url="urls.get_gsim_from_region"
			  style='position:absolute;inset:0px;z-index:0'>
	</gsim-map>

	<form novalidate @submit.prevent="postData(urls.residuals, forms.residuals).then(r => { responseData = r; })"
		  class='d-flex flex-column p-3' style='position:absolute;top:0px;max-height:100%;z-index:1'>

		<gsim-select :selected-model-names="forms.residuals.gsim"
					 :models="models"
					 :selected-imts="forms.residuals.imt"
					 style="flex: 0 1 auto; min-height:0px">
		</gsim-select>

		<imt-select :selected-imts="forms.residuals.imt" :imts='imts' class='mt-3'></imt-select>

		<flatfile-select
			class= 'mt-3'
			:flatfiles='flatfiles'
			:selected-flatfile="forms.residuals.flatfile"
			:data-query="forms.residuals['data-query']"
			:upload-url='urls.flatfile_inspection'>
		</flatfile-select>

<!--		<div class='d-flex flex-column'>-->
<!--			<div> Model-to-data comparison </div>-->
<!--			<div class='d-flex flex-row'>-->
<!--				<button type='button' class='me-2 btn-btn-primary'>-->
<!--					<i class="fa fa-bar-chart"></i> Show-->
<!--				</button>-->
<!--				<button type='button' class='me-2 btn-btn-primary'>-->
<!--					<i class="fa fa-download"></i> Get-->
<!--				</button>-->
<!--				<button type='button' class='me-2 btn-btn-primary'>-->
<!--					<i class="fa fa-download"></i> Get with tutorial-->
<!--				</button>-->
<!--				<button type='button' class='me-2 btn-btn-primary'>-->
<!--					<i class="fa fa-download"></i> run in custom code-->
<!--				</button>-->
<!--			</div>-->
<!--		</div>-->
	</form>

<!--	<residuals-plot-div :data="responseData"-->
<!--						class='invisible'-->
<!--						style='position:absolute;inset:0px;z-index:10'-->
<!--						:style="{visibility: Object.keys(responseData).length ? 'visible !important' : ''}">-->
<!--	</residuals-plot-div>-->
</div>